<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>CanopyLayers · Land</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Land logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Land</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../tips/">Tips</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">APIs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>CanopyLayers</a><ul class="internal"><li><a class="tocitem" href="#Structures"><span>Structures</span></a></li><li><a class="tocitem" href="#Caches"><span>Caches</span></a></li><li><a class="tocitem" href="#Initialization-of-Structures"><span>Initialization of Structures</span></a></li><li><a class="tocitem" href="#Big-Leaf-Model"><span>Big Leaf Model</span></a></li><li><a class="tocitem" href="#SCOPE-Model"><span>SCOPE Model</span></a></li><li><a class="tocitem" href="#Indicies"><span>Indicies</span></a></li><li><a class="tocitem" href="#Utils"><span>Utils</span></a></li></ul></li><li><a class="tocitem" href="../Photosynthesis/">Photosynthesis</a></li><li><a class="tocitem" href="../PlantHydraulics/">PlantHydraulics</a></li><li><a class="tocitem" href="../StomataModels/">StomataModels</a></li><li><a class="tocitem" href="../SoilPlantAirContinuum/">SPAC</a></li><li><a class="tocitem" href="../Land/">Land</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">APIs</a></li><li class="is-active"><a href>CanopyLayers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>CanopyLayers</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/Land/blob/main/docs/src/submodules/CanopyLayers.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="CanopyLayers"><a class="docs-heading-anchor" href="#CanopyLayers">CanopyLayers</a><a id="CanopyLayers-1"></a><a class="docs-heading-anchor-permalink" href="#CanopyLayers" title="Permalink"></a></h1><h2 id="Structures"><a class="docs-heading-anchor" href="#Structures">Structures</a><a id="Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.Canopy4RT" href="#Land.CanopyLayers.Canopy4RT"><code>Land.CanopyLayers.Canopy4RT</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct Canopy4RT</code></pre><p>A canopy struct for the radiation transfer module</p><p><strong>Fields</strong></p><ul><li><code>nLayer::Int64</code></li></ul><p>: Number of canopy layers</p><ul><li><code>LAI::AbstractFloat</code></li></ul><p>: Leaf Area Index</p><ul><li><code>Ω::AbstractFloat</code></li></ul><p>: Clumping factor</p><ul><li><code>clump_a::AbstractFloat</code></li></ul><p>: Structure factor a</p><ul><li><code>clump_b::AbstractFloat</code></li></ul><p>: Structure factor b</p><ul><li><code>leaf_width::AbstractFloat</code></li></ul><p>: Leaf width</p><ul><li><code>hc::AbstractFloat</code></li></ul><p>: Vegetation height</p><ul><li><code>LIDFa::AbstractFloat</code></li></ul><p>: Leaf Inclination</p><ul><li><code>LIDFb::AbstractFloat</code></li></ul><p>: Variation in leaf inclination</p><ul><li><code>hot::AbstractFloat</code></li></ul><p>: HotSpot parameter (still need to check!)</p><ul><li><code>height::AbstractFloat</code></li></ul><p>: Canopy height <code>[m]</code></p><ul><li><code>z0m::AbstractFloat</code></li></ul><p>: Canopy roughness <code>[m]</code></p><ul><li><code>z0h::AbstractFloat</code></li></ul><p>: Tree roughtnes <code>[m]</code></p><ul><li><code>d::AbstractFloat</code></li></ul><p>: Canopy displacement height <code>[m]</code></p><ul><li><code>Cd::AbstractFloat</code></li></ul><p>: m/sqrt(s) turbulent transfer coefficient</p><ul><li><code>litab::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: List of mean inclination angles <code>[°]</code></p><ul><li><code>litab_bnd::Matrix{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: List of inclination angle boundaries <code>[°]</code></p><ul><li><code>lazitab::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: List of mean azimuth angles <code>[°]</code></p><ul><li><code>cos_ttlo::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: Cosine of lazitab</p><ul><li><code>cos_philo::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: Cosine of lazitab - raa (relative azimuth angle), update with time</p><ul><li><code>cos_ttli::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: Cosine of litab</p><ul><li><code>sin_ttli::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: Sine of litab</p><ul><li><code>vol_scatt::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: Cache for volome scatter function</p><ul><li><code>lidf::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: Inclination angles weight distribution</p><ul><li><code>xl::Vector{FT} where FT&lt;:AbstractFloat</code></li></ul><p>: List of level location (level = layer + 1)</p><ul><li><code>dx::AbstractFloat</code></li></ul><p>: 1/nLayer</p><ul><li><code>nAzi::Int64</code></li></ul><p>: Number of azimuth angles</p><ul><li><code>nIncl::Int64</code></li></ul><p>: Number of inclination angles</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/canopy4rt.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.CanopyOpticals" href="#Land.CanopyLayers.CanopyOpticals"><code>Land.CanopyLayers.CanopyOpticals</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct CanopyOpticals{FT}</code></pre><p>A struct for canopy optical properties</p><p><strong>Fields</strong></p><ul><li><code>nAzi::Int64</code></li></ul><p>: Number of azimuth angles</p><ul><li><code>nIncl::Int64</code></li></ul><p>: Number of inclination agles</p><ul><li><code>nLayer::Int64</code></li></ul><p>: Number of canopy layers</p><ul><li><code>nWL::Int64</code></li></ul><p>: Number of wave lengths</p><ul><li><code>sdb::Any</code></li></ul><p>: Solar -&gt; Diffuse backscatter weight</p><ul><li><code>sdf::Any</code></li></ul><p>: Solar -&gt; Diffuse forward scatter weight</p><ul><li><code>dob::Any</code></li></ul><p>: Diffuse -&gt; Directional backscatter weight</p><ul><li><code>dof::Any</code></li></ul><p>: Diffuse -&gt; Directional forward scatter weight</p><ul><li><code>ddb::Any</code></li></ul><p>: Diffuse -&gt; Diffuse backscatter weight</p><ul><li><code>ddf::Any</code></li></ul><p>: Diffuse -&gt; Diffuse forward scatter weight</p><ul><li><code>ks::Any</code></li></ul><p>: Solar beam extinction coefficient weight</p><ul><li><code>ko::Any</code></li></ul><p>: Outgoing beam extinction coefficient weight</p><ul><li><code>bf::Any</code></li></ul><p>: ?</p><ul><li><code>sob::Any</code></li></ul><p>: Weight of specular2directional backscatter coefficient</p><ul><li><code>sof::Any</code></li></ul><p>: Weight of specular2directional forward coefficient</p><ul><li><code>Ps::Vector</code></li></ul><p>: Probability of directly viewing a leaf in solar direction</p><ul><li><code>Po::Vector</code></li></ul><p>: Probability of directly viewing a leaf in viewing direction</p><ul><li><code>Pso::Vector</code></li></ul><p>: Bi-directional probability of directly viewing a leaf (solar-&gt;canopy-&gt;viewing)</p><ul><li><code>fs::Matrix</code></li></ul><p>: conversion factor fs to compute irradiance on inclined leaf</p><ul><li><code>absfs::Matrix</code></li></ul><p>: abs(fs)</p><ul><li><code>absfsfo::Matrix</code></li></ul><p>: abs(fs*fo)</p><ul><li><code>fsfo::Matrix</code></li></ul><p>: fs*fo</p><ul><li><code>fo::Matrix</code></li></ul><p>: conversion factor fo for angle towards observer (not sun like fs)</p><ul><li><code>absfo::Matrix</code></li></ul><p>: abs(fo)</p><ul><li><code>cosΘ_l::Matrix</code></li></ul><p>: Cosine of leaf azimuths</p><ul><li><code>cos2Θ_l::Matrix</code></li></ul><p>: cos of leaf azimuth sqared</p><ul><li><code>sigb::Matrix</code></li></ul><p>: diffuse     backscatter scattering coefficient for diffuse  incidence</p><ul><li><code>sigf::Matrix</code></li></ul><p>: diffuse     forward     scattering coefficient for diffuse  incidence</p><ul><li><code>sb::Matrix</code></li></ul><p>: diffuse     backscatter scattering coefficient for specular incidence</p><ul><li><code>sf::Matrix</code></li></ul><p>: diffuse     forward     scattering coefficient for specular incidence</p><ul><li><code>vb::Matrix</code></li></ul><p>: directional backscatter scattering coefficient for diffuse  incidence</p><ul><li><code>vf::Matrix</code></li></ul><p>: directional forward     scattering coefficient for diffuse  incidence</p><ul><li><code>w::Matrix</code></li></ul><p>: bidirectional scattering coefficent (directional-directional)</p><ul><li><code>a::Matrix</code></li></ul><p>: attenuation</p><ul><li><code>Xsd::Matrix</code></li></ul><p>: Effective layer transmittance (direct-&gt;diffuse)</p><ul><li><code>Xdd::Matrix</code></li></ul><p>: Effective layer transmittance (diffuse-&gt;diffuse)</p><ul><li><code>R_sd::Matrix</code></li></ul><p>: Effective layer reflectance (direct-&gt;diffuse)</p><ul><li><code>R_dd::Matrix</code></li></ul><p>: Effective layer reflectance (diffuse-&gt;diffuse)</p><ul><li><code>Es_::Matrix</code></li></ul><p>: Solar direct radiation per layer)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/canopyopticals.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.CanopyRads" href="#Land.CanopyLayers.CanopyRads"><code>Land.CanopyLayers.CanopyRads</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct CanopyRads{FT}</code></pre><p>A struct for canopy radiation information</p><p><strong>Fields</strong></p><ul><li><code>nAzi::Int64</code></li></ul><p>: Number of azimuth angles</p><ul><li><code>nIncl::Int64</code></li></ul><p>: Number of inclination agles</p><ul><li><code>nLayer::Int64</code></li></ul><p>: Number of canopy layers</p><ul><li><code>nLevel::Int64</code></li></ul><p>: Number of canopy levels</p><ul><li><code>nWL::Int64</code></li></ul><p>: Number of wave lengths</p><ul><li><code>nWLF::Int64</code></li></ul><p>: Number of wave lengths for SIF</p><ul><li><code>intEout::Any</code></li></ul><p>: Integrated TOC outgoing flux <code>[W m⁻²]</code></p><ul><li><code>incomingPAR::Any</code></li></ul><p>: Incident spectrally integrated total PAR <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>incomingPAR_direct::Any</code></li></ul><p>: Incident spectrally integrated direct PAR <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>incomingPAR_diffuse::Any</code></li></ul><p>: Incident spectrally integrated diffuse PAR <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>RnSoil_diffuse::Any</code></li></ul><p>: Net radiation of shaded soil <code>[W m⁻²]</code></p><ul><li><code>RnSoil_direct::Any</code></li></ul><p>: Net Short-wave radiation of sunlit soil <code>[W m⁻²]</code></p><ul><li><code>RnSoil::Any</code></li></ul><p>: Net Short-wave radiation of soil (shaded + sunlit) <code>[W m⁻²]</code></p><ul><li><code>RnSoilLW::Any</code></li></ul><p>: Net long-wave radiation of soil (shaded + sunlit) <code>[W m⁻²]</code></p><ul><li><code>absPAR_shade::Vector</code></li></ul><p>: Net PAR of shaded leaves <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>absPAR_shadeCab::Vector</code></li></ul><p>: Net PAR by Cab+Car of shaded leaves <code>[moles m⁻² s⁻¹]</code></p><ul><li><code>intNetSW_sunlit::Vector</code></li></ul><p>: Spectrally integrated net absorbed direct radiation in each layer per leaf area <code>[W m⁻²]</code></p><ul><li><code>intNetSW_shade::Vector</code></li></ul><p>: Spectrally integrated net absorbed diffuse radiation in each layer per leaf area <code>[W m⁻²]</code></p><ul><li><code>intNetLW_sunlit::Vector</code></li></ul><p>: Spectrally integrated net absorbed direct radiation in each layer per leaf area <code>[W m⁻²]</code></p><ul><li><code>intNetLW_shade::Vector</code></li></ul><p>: Spectrally integrated net absorbed diffuse radiation in each layer per leaf area <code>[W m⁻²]</code></p><ul><li><code>T_sun::Vector</code></li></ul><p>: Leaf temperature (sunlit) <code>[K]</code></p><ul><li><code>T_shade::Vector</code></li></ul><p>: Leaf temperature (shaded) <code>[K]</code></p><ul><li><code>ϕ_shade::Vector</code></li></ul><p>: Fluorescence yield for shaded leaves</p><ul><li><code>H_shade::Vector</code></li></ul><p>: Sensible Heat flux H of shaded leaves <code>[W m⁻²]</code></p><ul><li><code>LE_shade::Vector</code></li></ul><p>: Latent Heat flux LE of shaded leaves <code>[W m⁻²]</code></p><ul><li><code>NPQ_shade::Vector</code></li></ul><p>: NPQ of shaded leaves</p><ul><li><code>GPP_shade::Vector</code></li></ul><p>: GPP of shaded leaves <code>[μmol m⁻² s⁻¹]</code></p><ul><li><code>gs_shade::Vector</code></li></ul><p>: gs of shaded leaves <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>ψl_shade::Vector</code></li></ul><p>: Leaf water potential of shaded leaves <code>[MPa]</code></p><ul><li><code>Cc_shade::Vector</code></li></ul><p>: Cc of shaded leaves <code>[µmol/mol]</code></p><ul><li><code>Pi_shade::Vector</code></li></ul><p>: internal CO₂ concentration of shaded leaves <code>[µmol/mol]</code></p><ul><li><code>Lo::Vector</code></li></ul><p>: Short-wave TOC outgoing radiance in observation direction <code>[mW m⁻² nm⁻¹ sr⁻¹]</code></p><ul><li><code>Eout::Vector</code></li></ul><p>: Short-wave TOC outgoing radiation <code>[mW m⁻² nm⁻¹]</code></p><ul><li><code>alb_obs::Vector</code></li></ul><p>: Short-wave Albedo in viewing direction</p><ul><li><code>alb_direct::Vector</code></li></ul><p>: Short-wave Albedo for direct incoming radiation</p><ul><li><code>alb_diffuse::Vector</code></li></ul><p>: Short-wave Albedo for diffuse incoming radiation</p><ul><li><code>E_up::Matrix</code></li></ul><p>: Upwelling diffuse short-wave radiation within canopy <code>[mW m⁻² nm⁻¹]</code></p><ul><li><code>E_down::Matrix</code></li></ul><p>: Downwelling diffuse short-wave radiation within canopy <code>[mW m⁻² nm⁻¹]</code></p><ul><li><code>netSW_sunlit::Matrix</code></li></ul><p>: Net absorbed direct radiation in each layer <code>[mW m⁻² nm⁻¹]</code></p><ul><li><code>netSW_shade::Matrix</code></li></ul><p>: net absorbed diffuse radiation in each layer <code>[mW m⁻² nm⁻¹]</code></p><ul><li><code>absPAR_sun::Array{FT, 3} where FT</code></li></ul><p>: net PAR of sunlit leaves <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>absPAR_sunCab::Array{FT, 3} where FT</code></li></ul><p>: net PAR by Cab+Car of sunlit leaves <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>T_sun3D::Array{FT, 3} where FT</code></li></ul><p>: Leaf temperature (sunlit) <code>[K]</code></p><ul><li><code>ϕ_sun::Array{FT, 3} where FT</code></li></ul><p>: Fluorescence yield for sunlit leaves</p><ul><li><code>H_sun::Array{FT, 3} where FT</code></li></ul><p>: Sensible Heat flux H of sunlit leaves <code>[W m⁻²]</code></p><ul><li><code>LE_sun::Array{FT, 3} where FT</code></li></ul><p>: Latent Heat flux LE of sunlit leaves <code>[W m⁻²]</code></p><ul><li><code>NPQ_sun::Array{FT, 3} where FT</code></li></ul><p>: NPQ of sunlit leaves</p><ul><li><code>GPP_sun::Array{FT, 3} where FT</code></li></ul><p>: GPP of sunlit leaves <code>[μmol m⁻² s⁻¹]</code></p><ul><li><code>gs_sun::Array{FT, 3} where FT</code></li></ul><p>: gs of sunlit leaves <code>[mol m⁻² s⁻¹]</code></p><ul><li><code>ψl_sun::Array{FT, 3} where FT</code></li></ul><p>: Leaf water potential of sunlit leaves <code>[MPa]</code></p><ul><li><code>Cc_sun::Array{FT, 3} where FT</code></li></ul><p>: Cc of sunlit leaves <code>[µmol/mol]</code></p><ul><li><code>Pi_sun::Array{FT, 3} where FT</code></li></ul><p>: Internal CO₂ concentration of sunlit leaves <code>[µmol/mol]</code></p><ul><li><code>SIF_hemi::Vector</code></li></ul><p>: Hemispheric total outgoing SIF flux <code>[mW m⁻² nm⁻¹]</code>)</p><ul><li><code>SIF_obs::Vector</code></li></ul><p>: Observer-direction outgoing SIF radiance (mW m⁻² nm⁻¹ sr⁻¹))</p><ul><li><code>SIF_obs_sunlit::Vector</code></li></ul><p>: Observer-direction outgoing SIF radiance, sunlit leaves (mW m⁻² nm⁻¹ sr⁻¹)</p><ul><li><code>SIF_obs_shaded::Vector</code></li></ul><p>: Observer-direction outgoing SIF radiance, shaded leaves (mW m⁻² nm⁻¹ sr⁻¹)</p><ul><li><code>SIF_obs_scattered::Vector</code></li></ul><p>: Observer-direction outgoing SIF radiance, scattered (mW m⁻² nm⁻¹ sr⁻¹)</p><ul><li><code>SIF_obs_soil::Vector</code></li></ul><p>: Observer-direction outgoing SIF radiance, soil-reflected (mW m⁻² nm⁻¹ sr⁻¹)</p><ul><li><code>SIF_sum::Vector</code></li></ul><p>: Total SIF sum of layer sources  <code>[mW m⁻² nm⁻¹]</code>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/canopyrads.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.IncomingRadiation" href="#Land.CanopyLayers.IncomingRadiation"><code>Land.CanopyLayers.IncomingRadiation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct IncomingRadiation{FT}</code></pre><p>Incoming radiation information</p><p><strong>Fields</strong></p><ul><li><code>E_direct::Vector</code></li></ul><p>: Direct incoming radiation <code>[mW m⁻² nm⁻¹]</code></p><ul><li><code>E_diffuse::Vector</code></li></ul><p>: Diffuse incoming radiation <code>[mW m⁻² nm⁻¹]</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/incomingrad.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.LeafBios" href="#Land.CanopyLayers.LeafBios"><code>Land.CanopyLayers.LeafBios</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct LeafBios{FT}</code></pre><p>A struct of leaf biological parameters</p><p><strong>Fields</strong></p><ul><li><code>nWL::Int64</code></li></ul><p>: Number of wave length</p><ul><li><code>nWLE::Int64</code></li></ul><p>: Number of wave length for excitation</p><ul><li><code>nWLF::Int64</code></li></ul><p>: Number of wave length for SIF</p><ul><li><code>N::Any</code></li></ul><p>: Leaf structure parameter</p><ul><li><code>Cab::Any</code></li></ul><p>: Chlorophyll a+b content <code>[µg cm⁻²]</code></p><ul><li><code>Car::Any</code></li></ul><p>: Carotenoid content <code>[µg cm⁻²]</code></p><ul><li><code>Ant::Any</code></li></ul><p>: Anthocynanin content <code>[µg cm⁻²]</code></p><ul><li><code>Cs::Any</code></li></ul><p>: Senescent material fraction</p><ul><li><code>Cw::Any</code></li></ul><p>: Equivalent water thickness <code>[cm]</code></p><ul><li><code>Cm::Any</code></li></ul><p>: Dry matter content (dry leaf mass per unit area) <code>[g cm⁻²]</code></p><ul><li><code>Cx::Any</code></li></ul><p>: Fractionation between Zeaxanthin and Violaxanthin in Car (1=all Zeaxanthin) (-)</p><ul><li><code>fqe::Any</code></li></ul><p>: Leaf fluorescence efficiency (Fo standard)</p><ul><li><code>ρ_LW::Any</code></li></ul><p>: Broadband thermal reflectance (-)</p><ul><li><code>τ_LW::Any</code></li></ul><p>: Broadband thermal transmission (-)</p><ul><li><code>ρ_SW::Vector</code></li></ul><p>: Shortwave leaf reflectance</p><ul><li><code>τ_SW::Vector</code></li></ul><p>: Shortwave leaf transmission</p><ul><li><code>α_SW::Vector</code></li></ul><p>: Shortwave absorption</p><ul><li><code>kChlrel::Vector</code></li></ul><p>: Relative absorbtion by Chlorophyll+Car</p><ul><li><code>kChlrel_old::Vector</code></li></ul><p>: Relative absorbtion by Chlorophyll</p><ul><li><code>Mb::Matrix</code></li></ul><p>: Fluorescence excitation matrix backwards</p><ul><li><code>Mf::Matrix</code></li></ul><p>: Fluorescence excitation matrix forwards</p><ul><li><code>ndub::Int64</code></li></ul><p>: Doubling adding layers</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/leafbios.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.LeafOpticals" href="#Land.CanopyLayers.LeafOpticals"><code>Land.CanopyLayers.LeafOpticals</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct LeafOpticals{FT}</code></pre><p>Struct for leaf optical properties</p><p><strong>Fields</strong></p><ul><li><p><code>nr::Vector</code></p></li><li><p><code>Km::Vector</code></p></li><li><p><code>Kab::Vector</code></p></li><li><p><code>Kant::Vector</code></p></li><li><p><code>Kcar::Vector</code></p></li><li><p><code>Kw::Vector</code></p></li><li><p><code>KBrown::Vector</code></p></li><li><p><code>phi::Vector</code></p></li><li><p><code>KcaV::Vector</code></p></li><li><p><code>KcaZ::Vector</code></p></li><li><p><code>lambda::Vector</code></p></li></ul><p>: Wave length <code>[nm]</code>, same as <code>WL</code> in <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a>`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/leafopticals.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.RTDimensions" href="#Land.CanopyLayers.RTDimensions"><code>Land.CanopyLayers.RTDimensions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct RTDimensions</code></pre><p>Struct that stores matrix dimension information</p><p><strong>Fields</strong></p><ul><li><code>nAzi::Int64</code></li></ul><p>: Number of azimuth angles</p><ul><li><code>nIncl::Int64</code></li></ul><p>: Number of inclination agles</p><ul><li><code>nLayer::Int64</code></li></ul><p>: Number of canopy layers</p><ul><li><code>nLevel::Int64</code></li></ul><p>: Number of canopy layer boundaries nLayer+1</p><ul><li><code>nPAR::Int64</code></li></ul><p>: Number of PAR wave lengths</p><ul><li><code>nWL::Int64</code></li></ul><p>: Number of wave lengths</p><ul><li><code>nWLE::Int64</code></li></ul><p>: Number of wave length for excitation</p><ul><li><code>nWLF::Int64</code></li></ul><p>: Number of wave lengths for SIF</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/rtdims.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SoilOpticals" href="#Land.CanopyLayers.SoilOpticals"><code>Land.CanopyLayers.SoilOpticals</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct SoilOpticals{FT}</code></pre><p>A struct of soil optical parameters</p><p><strong>Fields</strong></p><ul><li><code>T::Any</code></li></ul><p>: Soil surface temperature</p><ul><li><code>color::Int64</code></li></ul><p>: Soil color class</p><ul><li><code>ρ_NIR::Any</code></li></ul><p>: Shortwave albedo for NIR</p><ul><li><code>ρ_PAR::Any</code></li></ul><p>: Shortwave albedo for PAR</p><ul><li><code>ρ_SW::Vector</code></li></ul><p>: Shortwave albedo that matches <code>WL</code> from <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a></p><ul><li><code>ρ_SW_SIF::Vector</code></li></ul><p>: Shortwave albedo that matches <code>WLF</code> from <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a></p><ul><li><code>ε_SW::Vector</code></li></ul><p>: Shortwave absorption that equals <code>1 - ρ_SW</code></p><ul><li><code>SW_mat_raw_4::Matrix</code></li></ul><p>: Shortwave albedo matrix from 4 bands, wavelengths are 400:10:2500 nm</p><ul><li><code>SW_mat_raw_2::Matrix</code></li></ul><p>: Shortwave albedo matrix from 2 bands, wavelengths are 400:10:2500 nm</p><ul><li><code>SW_mat_4::Matrix</code></li></ul><p>: Shortwave albedo matrix from 4 bands with <code>WL</code> from <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a></p><ul><li><code>SW_mat_2::Matrix</code></li></ul><p>: Shortwave albedo matrix from 2 bands with <code>WL</code> from <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a></p><ul><li><code>SW_vec_4::Vector</code></li></ul><p>: Shortwave albedo weight from 4 bands</p><ul><li><code>SW_vec_2::Vector</code></li></ul><p>: Shortwave albedo weight from 2 bands</p><ul><li><code>ρ_SW_raw::Vector</code></li></ul><p>: Shortwave albedo, wavelengths are 400:10:2500 nm</p><ul><li><code>ρ_LW::Vector</code></li></ul><p>: Longtwave albedo</p><ul><li><code>dry_NIR::Any</code></li></ul><p>: Mean value for day band 1 in NIR region</p><ul><li><code>dry_PAR::Any</code></li></ul><p>: Mean value for day band 1 in PAR region</p><ul><li><code>wet_NIR::Any</code></li></ul><p>: Mean value for day band 1 in NIR region</p><ul><li><code>wet_PAR::Any</code></li></ul><p>: Mean value for day band 1 in PAR region</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/soilopticals.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SolarAngles" href="#Land.CanopyLayers.SolarAngles"><code>Land.CanopyLayers.SolarAngles</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct SolarAngles{FT}</code></pre><p>Struct for observation and solar angles</p><p><strong>Fields</strong></p><ul><li><code>hza::Any</code></li></ul><p>: Hill zenith angle <code>[°]</code>, hill slope angle</p><ul><li><code>haa::Any</code></li></ul><p>: Hill azimuth angle <code>[°]</code>, 0 for North, 180 for south</p><ul><li><code>saa::Any</code></li></ul><p>: Solar azimuth angle <code>[°]</code>, a function of time</p><ul><li><code>sza::Any</code></li></ul><p>: Solar zenith angle <code>[°]</code>, a function of lat and time</p><ul><li><code>vaa::Any</code></li></ul><p>: Viewing azimuth angle <code>[°]</code></p><ul><li><code>vza::Any</code></li></ul><p>: Viewing zenith angle <code>[°]</code></p><ul><li><code>raa::Any</code></li></ul><p>: Relative azimuth angle <code>[°]</code>, difference between saa and vaa</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/solarangles.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.WaveLengths" href="#Land.CanopyLayers.WaveLengths"><code>Land.CanopyLayers.WaveLengths</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct WaveLengths{FT}</code></pre><p>Struct for pre-set wave length parameters</p><p><strong>Fields</strong></p><ul><li><code>minwlPAR::Any</code></li></ul><p>: Minimal WL for PAR <code>[nm]</code></p><ul><li><code>maxwlPAR::Any</code></li></ul><p>: Maximal WL for PAR <code>[nm]</code></p><ul><li><code>minwlNIR::Any</code></li></ul><p>: Minimal WL for NIR <code>[nm]</code></p><ul><li><code>maxwlNIR::Any</code></li></ul><p>: Maximal WL for NIR <code>[nm]</code></p><ul><li><code>minwle::Any</code></li></ul><p>: Minimal WL for SIF excitation <code>[nm]</code></p><ul><li><code>maxwle::Any</code></li></ul><p>: Maximal WL for SIF excitation <code>[nm]</code></p><ul><li><code>minwlf::Any</code></li></ul><p>: Minimal WL for SIF emission/fluorescence <code>[nm]</code></p><ul><li><code>maxwlf::Any</code></li></ul><p>: Maximal WL for SIF emission/fluorescence <code>[nm]</code></p><ul><li><code>sWL::Vector</code></li></ul><p>: Standard wave length <code>[nm]</code></p><ul><li><code>dWL::Vector</code></li></ul><p>: Differential wavelength</p><ul><li><code>optis::Land.CanopyLayers.LeafOpticals</code></li></ul><p>: Leaf optical parameter set</p><ul><li><code>WL::Vector</code></li></ul><p>: Wave length <code>[nm]</code></p><ul><li><code>iWLE::Vector{Int64}</code></li></ul><p>: Index of WLE in WL</p><ul><li><code>iWLF::Vector{Int64}</code></li></ul><p>: Index of WLF in WL</p><ul><li><code>iPAR::Vector{Int64}</code></li></ul><p>: index of wlPAR in WL</p><ul><li><code>iNIR::Vector{Int64}</code></li></ul><p>: index of wlNIR in WL</p><ul><li><code>WLE::Vector</code></li></ul><p>: excitation wave length <code>[nm]</code></p><ul><li><code>WLF::Vector</code></li></ul><p>: Fluorescence wave length <code>[nm]</code></p><ul><li><code>WL_iPAR::Vector</code></li></ul><p>: Wave length for PAR</p><ul><li><code>dWL_iPAR::Vector</code></li></ul><p>: Differential wave length for PAR</p><ul><li><code>dWL_iWLE::Vector</code></li></ul><p>: Differential wave length for iWLE</p><ul><li><code>nPAR::Int64</code></li></ul><p>: Length of WL_iPAR</p><ul><li><code>nWL::Int64</code></li></ul><p>: Length of WL</p><ul><li><code>nWLE::Int64</code></li></ul><p>: length of WLE</p><ul><li><code>nWLF::Int64</code></li></ul><p>: length of WLF</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/wavelength.jl#L6-L13">source</a></section></article><h2 id="Caches"><a class="docs-heading-anchor" href="#Caches">Caches</a><a id="Caches-1"></a><a class="docs-heading-anchor-permalink" href="#Caches" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.CFCache" href="#Land.CanopyLayers.CFCache"><code>Land.CanopyLayers.CFCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct CFCache{FT}</code></pre><p>Cache to speed <a href="#Land.CanopyLayers.canopy_fluxes!"><code>canopy_fluxes!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><code>abs_wave::Vector</code></li></ul><p>: absorbed energy from wave lengths</p><ul><li><code>absfs_lidf::Vector</code></li></ul><p>: absfs&#39; * lidf [nAzi]</p><ul><li><code>E_all::Vector</code></li></ul><p>: wave length energy [same as dWL]</p><ul><li><code>E_iPAR::Vector</code></li></ul><p>: wave length energy [same as iPAR]</p><ul><li><code>lPs::Vector</code></li></ul><p>: lPs [nLayer]</p><ul><li><code>kChlrel::Vector</code></li></ul><p>: kChlrel [same as iPAR]</p><ul><li><code>PAR_diff::Vector</code></li></ul><p>: diffusive PAR [same as iPAR]</p><ul><li><code>PAR_diffCab::Vector</code></li></ul><p>: diffusive PAR for photosynthesis [same as iPAR]</p><ul><li><code>PAR_dir::Vector</code></li></ul><p>: direct PAR [same as iPAR]</p><ul><li><code>PAR_dirCab::Vector</code></li></ul><p>: diffusive PAR for photosynthesis [same as iPAR]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/caches.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_cf_cache" href="#Land.CanopyLayers.create_cf_cache"><code>Land.CanopyLayers.create_cf_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_cf_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#Land.CanopyLayers.CFCache"><code>CFCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/caches.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.CGCache" href="#Land.CanopyLayers.CGCache"><code>Land.CanopyLayers.CGCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct CGCache{FT}</code></pre><p>Cache to speed <a href="#Land.CanopyLayers.canopy_geometry!"><code>canopy_geometry!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><code>_Co::Vector</code></li></ul><p>: cos_ttli .* cos(vza) dim: nIncl</p><ul><li><code>_Cs::Vector</code></li></ul><p>: cos_ttli .* cos(sza) dim: nIncl</p><ul><li><code>_So::Vector</code></li></ul><p>: sin_ttli .* sin(vza) dim: nIncl</p><ul><li><code>_Ss::Vector</code></li></ul><p>: sin_ttli .* sin(sza) dim: nIncl</p><ul><li><code>_1s::Matrix</code></li></ul><p>: maxtrix filled with 1 dim: (1, nAzi)</p><ul><li><code>_2d::Matrix</code></li></ul><p>: 2D array to speed up _cds and _cdo dim: (nIncl, nAzi)</p><ul><li><code>_cdo::Matrix</code></li></ul><p>: <em>Co * _1s .+ _So * cos</em>philo&#39; dim: (nIncl, nAzi)</p><ul><li><code>_cds::Matrix</code></li></ul><p>: <em>Cs * _1s .+ _Ss * cos</em>ttlo&#39; dim: (nIncl, nAzi)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/caches.jl#L49-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_cg_cache" href="#Land.CanopyLayers.create_cg_cache"><code>Land.CanopyLayers.create_cg_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_cg_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#Land.CanopyLayers.CGCache"><code>CGCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/caches.jl#L51-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SFCache" href="#Land.CanopyLayers.SFCache"><code>Land.CanopyLayers.SFCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct SFCache{FT}</code></pre><p>Cache to speed <a href="#Land.CanopyLayers.SIF_fluxes!"><code>SIF_fluxes!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><p><code>M⁻_sun::Vector</code></p></li><li><p><code>M⁺_sun::Vector</code></p></li><li><p><code>wfEs::Vector</code></p></li><li><p><code>sfEs::Vector</code></p></li><li><p><code>sbEs::Vector</code></p></li><li><p><code>M⁺⁻::Vector</code></p></li><li><p><code>M⁺⁺::Vector</code></p></li><li><p><code>M⁻⁺::Vector</code></p></li><li><p><code>M⁻⁻::Vector</code></p></li><li><p><code>sun_dwl_iWlE::Vector</code></p></li><li><p><code>tmp_dwl_iWlE::Vector</code></p></li><li><p><code>ϕ_cosΘ_lidf::Vector</code></p></li><li><p><code>vfEplu_shade::Vector</code></p></li><li><p><code>vbEmin_shade::Vector</code></p></li><li><p><code>vfEplu_sun::Vector</code></p></li><li><p><code>vbEmin_sun::Vector</code></p></li><li><p><code>sigfEmin_shade::Vector</code></p></li><li><p><code>sigbEmin_shade::Vector</code></p></li><li><p><code>sigfEmin_sun::Vector</code></p></li><li><p><code>sigbEmin_sun::Vector</code></p></li><li><p><code>sigfEplu_shade::Vector</code></p></li><li><p><code>sigbEplu_shade::Vector</code></p></li><li><p><code>sigfEplu_sun::Vector</code></p></li><li><p><code>sigbEplu_sun::Vector</code></p></li><li><p><code>zeroB::Vector</code></p></li><li><p><code>tmp_1d_nWlF::Vector</code></p></li><li><p><code>tmp_1d_nLayer::Vector</code></p></li><li><p><code>dnorm::Vector</code></p></li><li><p><code>τ_dd::Matrix</code></p></li></ul><p>: transmission of diffusive light?</p><ul><li><code>ρ_dd::Matrix</code></li></ul><p>: extinction of diffuse light?</p><ul><li><p><code>Xdd::Matrix</code></p></li><li><p><code>Rdd::Matrix</code></p></li><li><p><code>Y::Matrix</code></p></li><li><p><code>U::Matrix</code></p></li><li><p><code>S⁻::Matrix</code></p></li><li><p><code>S⁺::Matrix</code></p></li><li><p><code>piLs::Matrix</code></p></li><li><p><code>piLd::Matrix</code></p></li><li><p><code>Fsmin::Matrix</code></p></li><li><p><code>Fsplu::Matrix</code></p></li><li><p><code>Fdmin::Matrix</code></p></li><li><p><code>Fdplu::Matrix</code></p></li><li><p><code>Femo::Matrix</code></p></li><li><p><code>M⁺::Matrix</code></p></li><li><p><code>M⁻::Matrix</code></p></li><li><p><code>ϕ_cosΘ::Matrix</code></p></li><li><p><code>F⁻::Matrix</code></p></li><li><p><code>F⁺::Matrix</code></p></li><li><p><code>net_diffuse::Matrix</code></p></li><li><p><code>tmp_2d_nWlF_nLayer::Matrix</code></p></li><li><p><code>tmp_2d_nWlF_nLayer_2::Matrix</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/caches.jl#L91-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_sf_cache" href="#Land.CanopyLayers.create_sf_cache"><code>Land.CanopyLayers.create_sf_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_sf_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#Land.CanopyLayers.SFCache"><code>SFCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/caches.jl#L93-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SWCache" href="#Land.CanopyLayers.SWCache"><code>Land.CanopyLayers.SWCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct SWCache{FT}</code></pre><p>Cache to speed <a href="#Land.CanopyLayers.short_wave!"><code>short_wave!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><code>dnorm::Vector</code></li></ul><p>: dnorm?</p><ul><li><code>piLo::Vector</code></li></ul><p>: pi * Lo</p><ul><li><code>piLoc::Vector</code></li></ul><p>: pi * Lo from canopy</p><ul><li><code>piLos::Vector</code></li></ul><p>: pi * Lo from soil</p><ul><li><code>piLoc2::Matrix</code></li></ul><p>: pi * Lo from canopy 2D matrix</p><ul><li><code>ρ_dd::Matrix</code></li></ul><p>: extinction of diffuse light?</p><ul><li><code>ρ_sd::Matrix</code></li></ul><p>: extinction of direct light?</p><ul><li><code>τ_dd::Matrix</code></li></ul><p>: transmission of diffusive light?</p><ul><li><code>τ_sd::Matrix</code></li></ul><p>: transmission of direct light?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/caches.jl#L170-L177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_sw_cache" href="#Land.CanopyLayers.create_sw_cache"><code>Land.CanopyLayers.create_sw_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_sw_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#Land.CanopyLayers.CGCache"><code>CGCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/caches.jl#L220-L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.RTCache" href="#Land.CanopyLayers.RTCache"><code>Land.CanopyLayers.RTCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct RTCache{FT}</code></pre><p>Collection of caches to speed up RT module</p><p><strong>Fields</strong></p><ul><li><code>cf_con::Land.CanopyLayers.CFCache</code></li></ul><p>: <a href="#Land.CanopyLayers.CFCache"><code>CFCache</code></a> type cache</p><ul><li><code>cg_con::Land.CanopyLayers.CGCache</code></li></ul><p>: <a href="#Land.CanopyLayers.CGCache"><code>CGCache</code></a> type cache</p><ul><li><code>sf_con::Land.CanopyLayers.SFCache</code></li></ul><p>: <a href="#Land.CanopyLayers.SFCache"><code>SFCache</code></a> type cache</p><ul><li><code>sw_con::Land.CanopyLayers.SWCache</code></li></ul><p>: <a href="#Land.CanopyLayers.SWCache"><code>SWCache</code></a> type cache</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/types/caches.jl#L214-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_rt_cache" href="#Land.CanopyLayers.create_rt_cache"><code>Land.CanopyLayers.create_rt_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_rt_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create an <a href="#Land.CanopyLayers.RTCache"><code>RTCache</code></a>, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/caches.jl#L264-L270">source</a></section></article><h2 id="Initialization-of-Structures"><a class="docs-heading-anchor" href="#Initialization-of-Structures">Initialization of Structures</a><a id="Initialization-of-Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization-of-Structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_canopy_opticals" href="#Land.CanopyLayers.create_canopy_opticals"><code>Land.CanopyLayers.create_canopy_opticals</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_canopy_opticals( FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/canopyopticals.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_canopy_rads" href="#Land.CanopyLayers.create_canopy_rads"><code>Land.CanopyLayers.create_canopy_rads</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_canopy_rads(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/canopyrads.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_canopy_rt" href="#Land.CanopyLayers.create_canopy_rt"><code>Land.CanopyLayers.create_canopy_rt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_canopy_rt(FT; nLayer::Int = 20, LAI::Number = FT(3))</code></pre><p>Create <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a>, given</p><ul><li><code>FT</code> Floating number type</li><li><code>nLayer</code> Number of canopy layers</li><li><code>LAI</code> Leaf area index</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/canopy4rt.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_incoming_radiation" href="#Land.CanopyLayers.create_incoming_radiation"><code>Land.CanopyLayers.create_incoming_radiation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_incoming_radiation(
            wls::WaveLengths{FT},
            wlfn::String = FILE_SUN
) where {FT&lt;:AbstractFloat}</code></pre><p>Create an <code>AbstractIncomingRadiation</code> struct, given</p><ul><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>wlfn</code> File that saves incoming wave information</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/incomingrad.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_leaf_bios" href="#Land.CanopyLayers.create_leaf_bios"><code>Land.CanopyLayers.create_leaf_bios</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_leaf_bios(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/leafbios.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_leaf_opticals" href="#Land.CanopyLayers.create_leaf_opticals"><code>Land.CanopyLayers.create_leaf_opticals</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_leaf_opticals(
            sWL::Array{FT,1},
            file::String = OPTI_2021
) where {FT&lt;:AbstractFloat}</code></pre><p>Create an <code>AbstractLeafOptiPara</code> struct, given</p><ul><li><code>sWL</code> Standard wave length</li><li><code>opfn</code> File that saves optical parameters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/leafopticals.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_rt_dims" href="#Land.CanopyLayers.create_rt_dims"><code>Land.CanopyLayers.create_rt_dims</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_rt_dims(
            can::Canopy4RT{FT},
            wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Create <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a>, given</p><ul><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/rtdims.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.create_wave_length" href="#Land.CanopyLayers.create_wave_length"><code>Land.CanopyLayers.create_wave_length</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_wave_length(FT, sWLs = [collect(400.0:10.0: 650.1); collect(655.0: 5.0: 770.1); collect(780.0:25.0:2400.1)];
                   max_NIR::Number = 2500, max_PAR::Number = 700, min_NIR::Number = 700, min_PAR::Number = 400, opti_file::String = OPTI_2021)</code></pre><p>Create <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>sWLs</code> Shortwave wavelength bins</li><li><code>max_NIR</code> Maximal NIR wavelength</li><li><code>max_PAR</code> Maximal PAR wavelength</li><li><code>min_NIR</code> Minimal NIR wavelength</li><li><code>min_PAR</code> Minimal PAR wavelength</li><li><code>opti_file</code> Input reference optical file path</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/wavelength.jl#L6-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.initialize_rt_module" href="#Land.CanopyLayers.initialize_rt_module"><code>Land.CanopyLayers.initialize_rt_module</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">initialize_rt_module(FT; nLayer::Int = 20, LAI::Number = FT(3))</code></pre><p>Initialize the RT module and return the sturctures, given</p><ul><li><code>FT</code> Floating number type</li><li><code>nLayer</code> Number of canopy layers</li><li><code>LAI</code> Leaf area index</li></ul><p>This function initializes and returns</p><ul><li><code>angles</code> <a href="#Land.CanopyLayers.SolarAngles"><code>SolarAngles</code></a></li><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a></li><li><code>can_opt</code> <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a></li><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a></li><li><code>in_rad</code> <a href="#Land.CanopyLayers.IncomingRadiation"><code>IncomingRadiation</code></a></li><li><code>leaves</code> Array{<a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a>,1}</li><li><code>rt_con</code> <a href="#Land.CanopyLayers.RTCache"><code>RTCache</code></a></li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a></li><li><code>soil</code> <a href="#Land.CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a></li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/initialize/all.jl#L6-L25">source</a></section></article><h2 id="Big-Leaf-Model"><a class="docs-heading-anchor" href="#Big-Leaf-Model">Big Leaf Model</a><a id="Big-Leaf-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Big-Leaf-Model" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.big_leaf_partition" href="#Land.CanopyLayers.big_leaf_partition"><code>Land.CanopyLayers.big_leaf_partition</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">big_leaf_partition(
            lai::FT,
            zenith::FT,
            r_all::FT,
            r_dir::FT = FT(0.8)
) where {FT&lt;:AbstractFloat}</code></pre><p>Partition the big-leaf canopy into sunlit and shaded layers, given</p><ul><li><code>lai</code> Leaf area index</li><li><code>zenith</code> Zenith angle in degree</li><li><code>r_all</code> Total radiation in <code>[W m⁻²]</code></li><li><code>r_dir</code> Direct radiation partition in <code>r_all</code></li></ul><p>The function returns</p><ul><li><code>ratio</code> ratio of sunlit leaves out of all leaves</li><li><code>q_slm</code> Mean sunlit layer PAR</li><li><code>q_shm</code> Mean shaded layer PAR</li><li><code>e_sl</code> Mean sunlit layer absorbed total energy</li><li><code>e_sh</code> Mean shaded layer absorbed total energy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/bigleaf/bigleaf.jl#L14-L34">source</a></section></article><h2 id="SCOPE-Model"><a class="docs-heading-anchor" href="#SCOPE-Model">SCOPE Model</a><a id="SCOPE-Model-1"></a><a class="docs-heading-anchor-permalink" href="#SCOPE-Model" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.canopy_fluxes!" href="#Land.CanopyLayers.canopy_fluxes!"><code>Land.CanopyLayers.canopy_fluxes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">canopy_fluxes!(
            can::Canopy4RT{FT},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            in_rad::IncomingRadiation{FT},
            soil::SoilOpticals{FT},
            leaves::Array{LeafBios{FT},1},
            wls::WaveLengths{FT},
            rt_con::RTCache{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes a variety of integrated fluxes from the spectrally resolved     computations in the short-wave Canopy RT (e.g. absorbed soil radiation,     absorbed direct and diffuse PAR by layer (and angles for direct), net     direct and diffuse energy balance per layer), given</p><ul><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>can_opt</code> <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>in_rad</code> <a href="#Land.CanopyLayers.IncomingRadiation"><code>IncomingRadiation</code></a> type struct</li><li><code>soil</code> <a href="#Land.CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>leaves</code> Array of <a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>rt_con</code> <a href="#Land.CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/canopyfluxes.jl#L6-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.canopy_geometry!" href="#Land.CanopyLayers.canopy_geometry!"><code>Land.CanopyLayers.canopy_geometry!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">canopy_geometry!(
            can::Canopy4RT{FT},
            angles::SolarAngles{FT},
            can_opt::CanopyOpticals{FT},
            rt_con::RTCache{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes canopy optical properties (extinction coefficients for direct and     diffuse light) based on the SAIL model. Most important input parameters are     leaf inclination and azimuth distribution functions and sun-sensor     geometry. Canopy clumping Ω is implemented as in Pinty et al (2015), given</p><ul><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>angles</code> <a href="#Land.CanopyLayers.SolarAngles"><code>SolarAngles</code></a> type struct</li><li><code>can_opt</code> <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>rt_con</code> <a href="#Land.CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/canopygeometry.jl#L42-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.canopy_matrices!" href="#Land.CanopyLayers.canopy_matrices!"><code>Land.CanopyLayers.canopy_matrices!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">canopy_matrices!(
            leaves::Array{LeafBios{FT},1},
            can_opt::CanopyOpticals{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Compute scattering coefficient matrices for direct and diffuse light given     geometry dependent overall extinction coefficients and pigment dependent     leaf reflectance and transmission (computed via fluspect). This function     has to be called before <a href="#Land.CanopyLayers.short_wave!"><code>short_wave!</code></a> can be used.</p><ul><li><code>leaves</code> Array of <a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>can_opt</code> <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/canopymatrices.jl#L6-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.clumping_factor!" href="#Land.CanopyLayers.clumping_factor!"><code>Land.CanopyLayers.clumping_factor!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">clumping_factor!(
            can::Canopy4RT{FT},
            angles::SolarAngles{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the clumping factor, given</p><ul><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>angles</code> <a href="#Land.CanopyLayers.SolarAngles"><code>SolarAngles</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/canopygeometry.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.diffusive_S" href="#Land.CanopyLayers.diffusive_S"><code>Land.CanopyLayers.diffusive_S</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">diffusive_S(τ_dd::Array{FT},
            ρ_dd::Array{FT},
            S⁻::Array{FT},
            S⁺::Array{FT},
            boundary_top::Array{FT},
            boundary_bottom::Array{FT},
            rsoil::Array{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport (used for thermal and SIF) given:</p><ul><li><code>τ_dd</code> A 2D Array with layer reflectances</li><li><code>ρ_dd</code> A 2D Array with layer transmissions</li><li><code>S⁻</code> A 2D Array with layer source terms in the downwelling direction</li><li><code>S⁺</code> A 2D Array with layer source terms in the upwelling direction</li><li><code>boundary_top</code> A 1D array with downwelling radiation at the top (top of canopy)</li><li><code>boundary_bottom</code> A 1D array with upwnwelling radiation at the bottom (soil)</li><li><code>rsoil</code> A 1D array with soil reflectance</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/diffusives.jl#L6-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.diffusive_S!" href="#Land.CanopyLayers.diffusive_S!"><code>Land.CanopyLayers.diffusive_S!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">diffusive_S!(
            sf_con::SFCache{FT},
            soil::SoilOpticals{FT},
            rt_dim::RTDimensions
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport (used for thermal and SIF),     given</p><ul><li><code>sf_con</code> <a href="#Land.CanopyLayers.SFCache"><code>SFCache</code></a> type cache</li><li><code>soil</code> <a href="#Land.CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/diffusives.jl#L76-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.fluspect!" href="#Land.CanopyLayers.fluspect!"><code>Land.CanopyLayers.fluspect!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fluspect!(leaf::LeafBios{FT},
          wls::WaveLengths{FT};
          APAR_car::Bool = true
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes leaf optical properties (reflectance and transittance) based on     pigment concentrations. Also computes Fluorescence excitation matrices.     Mostly based on PROSPECT-D for leaf reflectance/transmission and FluSpec     for fluorescence.</p><ul><li><code>leaf</code> <a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>APAR_car</code> If true, include Car absorption in APAR for photosynthesis</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/fluspect.jl#L7-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.short_wave!" href="#Land.CanopyLayers.short_wave!"><code>Land.CanopyLayers.short_wave!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">short_wave!(can::Canopy4RT{FT},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            in_rad::IncomingRadiation{FT},
            soil::SoilOpticals{FT},
            rt_con::RTCache{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Simulate the short wave radiation through the canopy, given</p><ul><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>can_opt</code> <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>in_rad</code> <a href="#Land.CanopyLayers.IncomingRadiation"><code>IncomingRadiation</code></a> type struct</li><li><code>soil</code> <a href="#Land.CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>rt_con</code> <a href="#Land.CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/shortwave.jl#L6-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SIF_fluxes!" href="#Land.CanopyLayers.SIF_fluxes!"><code>Land.CanopyLayers.SIF_fluxes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SIF_fluxes!(leaves::Array{LeafBios{FT},1},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            can::Canopy4RT{FT},
            soil::SoilOpticals{FT},
            wls::WaveLengths{FT},
            rt_con::RTCache{FT},
            rt_dim::RTDimensions;
            photon::Bool = true
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport for SIF radiation (calls     [<code>diffusive_S!</code>] internally). Layer reflectance and transmission is     computed from SW optical properties, layer sources from absorbed light and     SIF efficiencies. Boundary conditions are zero SIF incoming from atmosphere     or soil.</p><ul><li><code>leaves</code> Array of <a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>can_opt</code> <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>soil</code> <a href="#Land.CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>rt_con</code> <a href="#Land.CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li><li><code>rt_dim</code> <a href="#Land.CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li><li><code>photon</code> If true, use photon unit in the matrix conversion</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/siffluxes.jl#L6-L33">source</a></section><section><div><pre><code class="nohighlight hljs">SIF_fluxes!(leaf::LeafBios{FT},
            in_rad::IncomingRadiation{FT},
            wls::WaveLengths{FT},
            rt_con::RTCache{FT},
            fqe::FT = FT(0.01);
            photon::Bool = true
) where {FT&lt;:AbstractFloat}</code></pre><p>Leaf level SIF, given</p><ul><li><code>leaf</code> <a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>in_rad</code> <a href="#Land.CanopyLayers.IncomingRadiation"><code>IncomingRadiation</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>rt_con</code> <a href="#Land.CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li><li><code>fqe</code> Fluorescence quantum yield (default at 1%)</li><li><code>photon</code> If true, use photon unit in the matrix conversion</li></ul><p>Note that <code>in_rad</code> assumes direct light with zenith angle of 0, and a zenith     angle correction needs to be made before passing it to this function. The     up- and down-ward SIF are stored in <code>sf_con</code> as <code>M⁻_sun</code> and <code>M⁺_sun</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/siffluxes.jl#L240-L260">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.thermal_fluxes!" href="#Land.CanopyLayers.thermal_fluxes!"><code>Land.CanopyLayers.thermal_fluxes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">thermal_fluxes!(
            leaves::Array{LeafBios{FT},1},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            can::Canopy4RT{FT},
            soil::SoilOpticals{FT},
            incLW::Array{FT},
            wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport for thermal radiation (calls     [<code>diffusive_S</code>] internally). Layer reflectance and transmission is computed     from LW optical properties, layer sources from temperature and Planck law,     boundary conditions from the atmosphere and soil emissivity and     temperature. Currently only uses Stefan Boltzmann law to compute spectrally     integrated LW but can be easily adjusted to be spectrally resolved.</p><ul><li><code>leaves</code> Array of <a href="#Land.CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>can_opt</code> <a href="#Land.CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>can</code> <a href="#Land.CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>soil</code> <a href="#Land.CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>incLW</code> A 1D array with incoming long-wave radiation</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/thermalfluxes.jl#L6-L30">source</a></section></article><h2 id="Indicies"><a class="docs-heading-anchor" href="#Indicies">Indicies</a><a id="Indicies-1"></a><a class="docs-heading-anchor-permalink" href="#Indicies" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.BLUE" href="#Land.CanopyLayers.BLUE"><code>Land.CanopyLayers.BLUE</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">BLUE(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the BLUE @ 469 nm, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.EVI" href="#Land.CanopyLayers.EVI"><code>Land.CanopyLayers.EVI</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">EVI(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the EVI, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L25-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.EVI2" href="#Land.CanopyLayers.EVI2"><code>Land.CanopyLayers.EVI2</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">EVI2(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the EVI2, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L48-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.LSWI" href="#Land.CanopyLayers.LSWI"><code>Land.CanopyLayers.LSWI</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">LSWI(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the LSWI, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L71-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.NDVI" href="#Land.CanopyLayers.NDVI"><code>Land.CanopyLayers.NDVI</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">NDVI(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the NDVI, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L96-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.NIR" href="#Land.CanopyLayers.NIR"><code>Land.CanopyLayers.NIR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">NIR(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the NIR @ 858.5 nm, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L118-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.NIRv" href="#Land.CanopyLayers.NIRv"><code>Land.CanopyLayers.NIRv</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">NIRv(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the NIRv, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L137-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.RED" href="#Land.CanopyLayers.RED"><code>Land.CanopyLayers.RED</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">RED(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the RED @ 645 nm, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L181-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.REF_WL" href="#Land.CanopyLayers.REF_WL"><code>Land.CanopyLayers.REF_WL</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">REF_WL(wls::WaveLengths{FT},
       can_rad::CanopyRads{FT}
       wls::WaveLengths{FT},
       twl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the Reflectance, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>twl</code> Target wave length in nm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L200-L211">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SIF_740" href="#Land.CanopyLayers.SIF_740"><code>Land.CanopyLayers.SIF_740</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SIF_740(can_rad::CanopyRads{FT},
        wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF @ 740 nm, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L372-L380">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SIF_757" href="#Land.CanopyLayers.SIF_757"><code>Land.CanopyLayers.SIF_757</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SIF_757(can_rad::CanopyRads{FT},
        wls::WaveLengths{FT};
        oco::Int = 2
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF @ 758.68 (OCO2) or 758.77 (OCO3) nm, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>oco</code> Integer to indentify OCO2 or OCO3</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L391-L401">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SIF_771" href="#Land.CanopyLayers.SIF_771"><code>Land.CanopyLayers.SIF_771</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SIF_771(can_rad::CanopyRads{FT},
        wls::WaveLengths{FT};
        oco::Int = 2
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF @ 769.94 (OCO2) or 770.005 (OCO3) nm, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>oco</code> Integer to indentify OCO2 or OCO3</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L418-L428">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SIF_WL" href="#Land.CanopyLayers.SIF_WL"><code>Land.CanopyLayers.SIF_WL</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SIF_WL(wls::WaveLengths{FT},
       can_rad::CanopyRads{FT}
       wls::WaveLengths{FT},
       twl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>twl</code> Target SIF wave length in nm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L311-L322">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.SWIR" href="#Land.CanopyLayers.SWIR"><code>Land.CanopyLayers.SWIR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SWIR(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SWIR @ 2130 nm, given</p><ul><li><code>can_rad</code> <a href="#Land.CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#Land.CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/layers/indicies.jl#L283-L291">source</a></section></article><h2 id="Utils"><a class="docs-heading-anchor" href="#Utils">Utils</a><a id="Utils-1"></a><a class="docs-heading-anchor-permalink" href="#Utils" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.calctav" href="#Land.CanopyLayers.calctav"><code>Land.CanopyLayers.calctav</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">calctav(α::FT, nr::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Computes transmission of isotropic radiation across an interface between two     dielectrics (Stern F., 1964; Allen W.A., 1973)). From calctav.m in     PROSPECT-D</p><ul><li><code>α</code> angle of incidence</li><li><code>nr</code> Index of refraction</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/utils/calctav.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.dcum" href="#Land.CanopyLayers.dcum"><code>Land.CanopyLayers.dcum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dcum(a::FT, b::FT, t::FT) where {FT&lt;:AbstractFloat}</code></pre><p>TODO Add function description</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/utils/dladgen.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.dladgen" href="#Land.CanopyLayers.dladgen"><code>Land.CanopyLayers.dladgen</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dladgen(a::FT, b::FT, litab_bnd::Array{FT,2}) where {FT&lt;:AbstractFloat}</code></pre><p>TODO Calculate the freqency of WHAT?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/utils/dladgen.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.e2phot" href="#Land.CanopyLayers.e2phot"><code>Land.CanopyLayers.e2phot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">e2phot(λ::Array{FT}, E::Array{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Calculates the number of moles of photons, given</p><ul><li><code>λ</code> An array of wave length in <code>[nm]</code>, converted to <code>[m]</code> by _FAC</li><li><code>E</code> Joules of energy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/utils/e2phot.jl#L8-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.e2phot!" href="#Land.CanopyLayers.e2phot!"><code>Land.CanopyLayers.e2phot!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">e2phot!(
            λ::Array{FT,1},
            E::Array{FT,1},
            cache::Array{FT,1}
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculates the number of moles of photons, given</p><ul><li><code>λ</code> An array of wave length in <code>[nm]</code>, converted to <code>[m]</code> by _FAC</li><li><code>E</code> Joules of energy</li><li><code>cache</code> Cache to avoid memory allocations</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/utils/e2phot.jl#L25-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.psofunction" href="#Land.CanopyLayers.psofunction"><code>Land.CanopyLayers.psofunction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">psofunction(K::FT,
            k::FT,
            Ω::FT,
            LAI::FT,
            q::FT,
            dso::FT,
            xl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p><strong>TODO explain the variables</strong></p><p>Return the probability of observing a sunlit leaf at depth <code>xl</code> (<code>pso</code>, see eq     31 in vdT 2009), given</p><ul><li><code>xl</code> Leaf depth in the canopy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/utils/psofunction.jl#L6-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Land.CanopyLayers.volscatt!" href="#Land.CanopyLayers.volscatt!"><code>Land.CanopyLayers.volscatt!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">volscatt!(cache::Array{FT,1},
          sza::FT,
          vza::FT,
          raa::FT,
          ttl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate interception parameters (<code>chi_s</code> and <code>chi_s</code>) and leaf reflectance     multiplier (<code>frho</code>) and transmittance multiplier (<code>ftau</code>), given</p><ul><li><code>cache</code> Array cache for results</li><li><code>sza</code> Solar zenith angle</li><li><code>vza</code> Viewing zenith angle</li><li><code>raa</code> Relative azimuth angle</li><li><code>ttl</code> Leaf inclination angle</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/Land/blob/ead6c07187618e7071a0cf7a57d8c5d792c5598c/src/CanopyLayers/utils/volscatt.jl#L6-L21">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tips/">« Tips</a><a class="docs-footer-nextpage" href="../Photosynthesis/">Photosynthesis »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 8 November 2022 22:02">Tuesday 8 November 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
